
[
  
{
  
  
"response": 
[
  
  
  
{
  
  
  
  
"type": 
"text",
  
  
  
  
"text": 
"{\"pageContent\":\"\\\"screen_entry_time\\\",       \\\"screen_exit_time\\\",       \\\"collision_probability_method\\\"     ],     \\\"notes\\\": [       \\\"TCA включён в CRITICAL, потому что напрямую определяет окно сближения и решения по маневру.\\\",       \\\"Ковариации — CRITICAL, так как могут менять Pc/риски даже при схожем miss distance.\\\"     ]   },   \\\"logic\\\": {     \\\"step_1_compare_with_referenced_cdm\\\": {       \\\"action\\\": \\\"Сравнить все найденные в тексте поля с referenced_cdm_record.\\\",       \\\"outputs\\\": {         \\\"mismatches\\\": \\\"список объектов {field, message_value, cdm_value, delta, ratio?, field_importance}\\\",         \\\"mismatch_count_total\\\": \\\"кол-во несовпадений по найденным полям\\\",         \\\"suspicious_count\\\": \\\"кол-во полей, превысивших major_gate (аномальные/крупные отклонения)\\\",         \\\"max_severity_from_fields\\\": \\\"CRITICAL если есть mismatch в CRITICAL_if_mismatch, иначе MAJOR если есть mismatch в MAJOR_if_mismatch, иначе OK\\\"       }     },     \\\"step_2_mixup_check_trigger\\\": {       \\\"condition\\\": \\\"suspicious_count >= 3\\\",\",\"metadata\":{\"loc\":{\"lines\":{\"to\":1,\"from\":1}},\"line\":1,\"source\":\"blob\",\"blobType\":\"application/json\"},\"id\":\"f54ddc9c-3305-46a3-bd9a-37e15f8e6096\"}"
  
  
  
},
  
  
  
{
  
  
  
  
"type": 
"text",
  
  
  
  
"text": 
"{\"pageContent\":\"ID (MVP)\\\",       \\\"selection_rule\\\": \\\"10–20 ближайших по времени CDM для той же пары объектов (если доступно), иначе 10–20 последних CDM в таблице\\\",       \\\"min\\\": 10,       \\\"max\\\": 20     }   },   \\\"extraction\\\": {     \\\"numeric_fields\\\": [       \\\"tca_iso\\\",       \\\"miss_distance_m\\\",       \\\"pc\\\",       \\\"relative_speed_mps\\\",       \\\"relative_position_rtn_m (optional)\\\",       \\\"relative_velocity_rtn_mps (optional)\\\"     ],     \\\"other_fields\\\": [       \\\"collision_probability_method\\\",       \\\"screen_entry_time\\\",       \\\"screen_exit_time\\\",       \\\"rotation_terms_or_attitude_terms (optional)\\\",       \\\"misc_noncritical_numbers (optional)\\\"     ],     \\\"object_identity_fields\\\": [       \\\"object1_name\\\",       \\\"object1_designator\\\",       \\\"object2_name\\\",       \\\"object2_designator\\\"     ]   },   \\\"thresholds\\\": {     \\\"major_gate\\\": {       \\\"tca_abs_seconds\\\": 300,       \\\"miss_abs_m\\\": 200,       \\\"pc_ratio\\\": 5.0,       \\\"pc_abs\\\": 0.0002,       \\\"rel_speed_abs_mps\\\": 30     },     \\\"suspicious_match_for_mixup\\\": {\",\"metadata\":{\"loc\":{\"lines\":{\"to\":1,\"from\":1}},\"line\":1,\"source\":\"blob\",\"blobType\":\"application/json\"},\"id\":\"c666adc2-503c-4e72-91a5-c30be9b0aa95\"}"
  
  
  
},
 
{
  
  
  
  
"type": 
"text",
  
  
  
  
"text": 
"{\"pageContent\":\"\\\"R2\\\",       \\\"code\\\": \\\"UNIT_SYSTEM_CHECK_AND_CONVERSION\\\",       \\\"severity\\\": \\\"MAJOR\\\",       \\\"description\\\": \\\"If values are provided in non-SI units (e.g., km/h), ensure conversion from SI is correct. If conversion is correct but values are rounded, mark MAJOR.\\\",       \\\"trigger\\\": {         \\\"type\\\": \\\"non_si_units_used_and_rounded\\\",         \\\"examples_non_si_units\\\": [\\\"km/h\\\", \\\"mph\\\", \\\"ft\\\", \\\"nmi\\\"]       },       \\\"fix\\\": \\\"Provide SI values or show correct conversion; avoid rounding during conversion.\\\"     },     {       \\\"id\\\": \\\"R3\\\",       \\\"code\\\": \\\"CRITICAL_FIELD_MISMATCH_WITH_CDM\\\",       \\\"severity\\\": \\\"CRITICAL\\\",       \\\"description\\\": \\\"If UTC/TCA/miss distance/Pc/covariances or other exact critical data do not match CDM (by message_id), mark CRITICAL.\\\",       \\\"trigger\\\": {         \\\"type\\\": \\\"field_value_mismatch_against_cdm\\\",         \\\"fields\\\": [\\\"TCA_UTC\\\", \\\"Pc\\\", \\\"miss_distance\\\", \\\"covariance\\\", \\\"UTC_time_refs\\\"]       },       \\\"fix\\\": \\\"Use exact values from the referenced CDM message_id.\\\"     },     {\",\"metadata\":{\"loc\":{\"lines\":{\"to\":1,\"from\":1}},\"line\":1,\"source\":\"blob\",\"blobType\":\"application/json\"},\"id\":\"1b6f7573-f2a1-43e1-9129-aeb7394727a9\"}"
  
  
  
},
  
  
  
{
  
  
  
  
"type": 
"text",
  
  
  
  
"text": 
"{\"pageContent\":\"{   \\\"rule_id\\\": \\\"CDM_VALUE_MISMATCH_AND_ID_MIXUP_01\\\",   \\\"title\\\": \\\"Несоответствие значений CDM по указанному CDM_ID + проверка на перепутанный CDM_ID (MAJOR/CRITICAL)\\\",   \\\"version\\\": \\\"1.0\\\",   \\\"intent\\\": \\\"Если оператор указал CDM_ID, но значения в тексте не совпадают с CDM из БД: (1) выставить severity по важности полей; (2) при >=3 подозрительных отклонениях запустить проверку mixup (взял значения из другого CDM); (3) всегда предложить правильные значения из referenced CDM или указать более подходящий CDM_ID.\\\",   \\\"inputs_required\\\": {     \\\"message_text\\\": \\\"Текст сообщения оператора\\\",     \\\"referenced_cdm_id\\\": \\\"CDM_ID, который оператор указал\\\",     \\\"referenced_cdm_record\\\": \\\"CDM из БД по referenced_cdm_id\\\",     \\\"candidate_cdms_pool\\\": {       \\\"description\\\": \\\"CDM-кандидаты для проверки перепутанного ID (MVP)\\\",       \\\"selection_rule\\\": \\\"10–20 ближайших по времени CDM для той же пары объектов (если доступно), иначе 10–20 последних CDM в таблице\\\",       \\\"min\\\": 10,       \\\"max\\\": 20     }   },\",\"metadata\":{\"loc\":{\"lines\":{\"to\":1,\"from\":1}},\"line\":1,\"source\":\"blob\",\"blobType\":\"application/json\"},\"id\":\"c8ff6c71-2588-4952-8ea5-b7462ce41c2d\"}"
  
  
  
},
 
{
  
  
  
  
"type": 
"text",
  
  
  
  
"text": 
"{\"pageContent\":\"{   \\\"version\\\": \\\"validator_rules_v1.0\\\",   \\\"domain\\\": \\\"Satellite Ops / CDM-based message validation\\\",   \\\"severity_levels\\\": [\\\"OK\\\", \\\"INFO\\\", \\\"TINY\\\", \\\"MAJOR\\\", \\\"CRITICAL\\\"],   \\\"overall_severity_logic\\\": \\\"If any CRITICAL issue exists => CRITICAL. Else if any MAJOR issue exists => MAJOR. Else if any TINY issue exists => TINY. Else if any INFO issue exists => INFO. Else OK.\\\",   \\\"glossary\\\": {     \\\"CDM\\\": \\\"Conjunction Data Message\\\",     \\\"message_id\\\": \\\"CDM message identifier used to fetch CDM data\\\",     \\\"critical_fields\\\": [\\\"TCA_UTC\\\", \\\"Pc\\\", \\\"miss_distance\\\", \\\"deltaV\\\", \\\"covariance\\\"],     \\\"noncritical_fields_examples\\\": [\\\"relative_speed\\\", \\\"position\\\", \\\"aux_parameters\\\"]   },   \\\"rules\\\": [     {       \\\"id\\\": \\\"R0\\\",       \\\"code\\\": \\\"MISSING_CDM_MESSAGE_ID\\\",       \\\"severity\\\": \\\"CRITICAL\\\",       \\\"description\\\": \\\"Before validation, locate message_id (CDM ID). If message_id is absent, raise CRITICAL.\\\",       \\\"trigger\\\": {         \\\"type\\\": \\\"text_missing_required_field\\\",         \\\"required_field\\\": \\\"message_id\\\"       },\",\"metadata\":{\"loc\":{\"lines\":{\"to\":1,\"from\":1}},\"line\":1,\"source\":\"blob\",\"blobType\":\"application/json\"},\"id\":\"eaa9a984-4391-486b-bce9-77cd9deed918\"}"
  
  
  
},
  
  
  
{
  
  
  
  
"type": 
"text",
  
  
  
  
"text": 
"{\"pageContent\":\"{           \\\"tca\\\": \\\"<cdm.tca>\\\",           \\\"miss_distance_m\\\": \\\"<cdm.miss_distance>\\\",           \\\"pc\\\": \\\"<cdm.pc>\\\",           \\\"relative_speed_mps\\\": \\\"<cdm.relative_speed>\\\"         },         \\\"correct_covariance_hint\\\": {           \\\"include_if_requested_or_present_in_message\\\": true,           \\\"example_fields\\\": [             \\\"object1.covariance_rtn.pos_pos\\\",             \\\"object2.covariance_rtn.pos_pos\\\"           ]         }       }     },     \\\"mixup_suggestion_block\\\": {       \\\"emit_when\\\": \\\"LIKELY_CDM_ID_MIXUP\\\",       \\\"content\\\": {         \\\"cdm_id_sent_by_operator\\\": \\\"<referenced_cdm_id>\\\",         \\\"cdm_id_matching_values\\\": \\\"<best_candidate_cdm_id>\\\",         \\\"matched_fields\\\": \\\"<list>\\\",         \\\"recommended_fix\\\": \\\"Используй CDM_ID <best_candidate_cdm_id> или перепроверь копирование чисел из CDM <referenced_cdm_id>.\\\"       }     }   },   \\\"notes\\\": [     \\\"Это правило срабатывает только если в тексте есть CDM_ID и хотя бы одно численное поле.\\\",     \\\"Критичность MAJOR/CRITICAL определяется важностью\",\"metadata\":{\"loc\":{\"lines\":{\"to\":1,\"from\":1}},\"line\":1,\"source\":\"blob\",\"blobType\":\"application/json\"},\"id\":\"2a39cdd6-e8c9-4444-9e24-c5dc0fd8cc73\"}"
  
  
  
},
 
{
  
  
  
  
"type": 
"text",
  
  
  
  
"text": 
"{\"pageContent\":\"\\\"major_gate\\\": {       \\\"tca_abs_seconds\\\": 300,       \\\"miss_abs_m\\\": 200,       \\\"pc_ratio\\\": 5.0,       \\\"pc_abs\\\": 0.0002,       \\\"rel_speed_abs_mps\\\": 30     },     \\\"suspicious_match_for_mixup\\\": {       \\\"tca_match_abs_seconds\\\": 180,       \\\"miss_match_abs_m\\\": 150,       \\\"pc_match_ratio\\\": 4.0,       \\\"pc_match_abs\\\": 0.0002,       \\\"rel_speed_match_abs_mps\\\": 30,       \\\"object_designator_exact\\\": true     }   },   \\\"field_severity_policy\\\": {     \\\"CRITICAL_if_mismatch\\\": [       \\\"pc\\\",       \\\"miss_distance_m\\\",       \\\"covariance_rtn (любые упомянутые элементы pos_pos/pos_vel/vel_vel или диагонали/ключевые элементы)\\\",       \\\"tca_iso\\\"     ],     \\\"MAJOR_if_mismatch\\\": [       \\\"relative_speed_mps\\\",       \\\"relative_position_rtn_m\\\",       \\\"relative_velocity_rtn_mps\\\",       \\\"rotation_terms_or_attitude_terms\\\",       \\\"screen_entry_time\\\",       \\\"screen_exit_time\\\",       \\\"collision_probability_method\\\"     ],     \\\"notes\\\": [       \\\"TCA включён в CRITICAL, потому что напрямую определяет окно сближения и решения по\",\"metadata\":{\"loc\":{\"lines\":{\"to\":1,\"from\":1}},\"line\":1,\"source\":\"blob\",\"blobType\":\"application/json\"},\"id\":\"a3f027e9-0438-453c-9daa-4e38c64b3650\"}"
  
  
  
},
  
  
  
{
  
  
  
  
"type": 
"text",
  
  
  
  
"text": 
"{\"pageContent\":\"approach\\\",       \\\"screen volume\\\",       \\\"уклонение\\\",       \\\"maneuver\\\"     ]   },   \\\"extraction_presence_flags\\\": {     \\\"event_identification\\\": {       \\\"true_if_contains_any\\\": [         \\\"CDM_ID\\\",         \\\"message_id\\\",         \\\"event id\\\",         \\\"conjunction id\\\",         \\\"reference cdm\\\",         \\\"событие\\\",         \\\"кейc\\\",         \\\"ref:\\\"       ]     },     \\\"pc_present\\\": {       \\\"true_if_contains_any\\\": [\\\"Pc\\\", \\\"collision_probability\\\", \\\"probability of collision\\\", \\\"вероятность столкновения\\\"]     },     \\\"tca_present\\\": {       \\\"true_if_contains_any\\\": [\\\"TCA\\\", \\\"time of closest approach\\\", \\\"closest approach\\\", \\\"время сближения\\\", \\\"ISO-8601 date\\\"]     },     \\\"miss_distance_present\\\": {       \\\"true_if_contains_any\\\": [\\\"miss distance\\\", \\\"miss_distance\\\", \\\"промах\\\", \\\"минимальная дистанция\\\", \\\"m\\\", \\\"km\\\", \\\"nmi\\\", \\\"ft\\\"]     },     \\\"coordination_request_present\\\": {       \\\"true_if_contains_any\\\": [         \\\"please confirm\\\",         \\\"can you confirm\\\",         \\\"request\\\",         \\\"need your input\\\",         \\\"advise\\\",\",\"metadata\":{\"loc\":{\"lines\":{\"to\":1,\"from\":1}},\"line\":1,\"source\":\"blob\",\"blobType\":\"application/json\"},\"id\":\"8cc24a64-a192-4e3d-b222-d1e896c0af81\"}"
  
  
  
}
  
  
]
  
}
]